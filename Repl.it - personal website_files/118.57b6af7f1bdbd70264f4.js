(window.webpackJsonp=window.webpackJsonp||[]).push([[118],{"A1a/":function(t,e,o){"use strict";o.r(e);var i=o("0iUn"),n=o("sLSF"),s=o("MI3g"),r=o("a7VT"),p=o("Tit0"),a=o("MX0m"),c=o.n(a),h=o("q1tI"),l=o("EVdn"),u=o.n(l),m=o("VzbW"),_=h.createElement,d=!1;var f=function(t){function e(t){var n;return Object(i.a)(this,e),(n=Object(s.a)(this,Object(r.a)(e).call(this,t))).onClear=function(){n.jqconsole.Clear(),n.props.clearConsole()},d||(d=!0,window.$=u.a,window.jQuery=u.a,o("CUia")),n.state={messageIndex:0},n}return Object(p.a)(e,t),Object(n.a)(e,[{key:"componentDidMount",value:function(){var t=this;this._console&&(this.jqconsole=u()(this._console).jqconsole("","   ",".. ",!0),this.jqconsole.RegisterShortcut("Z",(function(){t.jqconsole.AbortPrompt(),t.updatePromptState()})),this.jqconsole.RegisterShortcut("C",(function(){t.jqconsole.AbortPrompt(),t.updatePromptState()})),this.jqconsole.RegisterShortcut("D",(function(){t.jqconsole.AbortPrompt(),t.updatePromptState()})),this.jqconsole.RegisterShortcut("A",(function(){return t.jqconsole.MoveToStart()})),this.jqconsole.RegisterShortcut("E",(function(){return t.jqconsole.MoveToEnd()})),this.jqconsole.RegisterShortcut("K",this.onClear),this.props.disabled&&this.jqconsole.Disable(),this.updatePromptState(!0),this.flushMessages(!0),this.props.promptValue&&(this.jqconsole.SetPromptText(this.props.promptValue),setTimeout((function(){return t.jqconsole.Focus()}),0)))}},{key:"componentWillReceiveProps",value:function(t){var e=this;(this.props.messages.length<this.state.messageIndex||!function(t,e,o){if(t.length<o||e.length<o)return!1;for(var i=0;i<o;i++)if(t[i].data!==e[i].data)return!1;return!0}(this.props.messages,t.messages,this.state.messageIndex))&&(this.setState({messageIndex:0}),this.jqconsole.Clear()),t.disabled!==this.props.disabled&&(t.disabled?this.jqconsole.Disable():this.jqconsole.Enable()),t.promptValue!==this.props.promptValue&&this.jqconsole.GetPromptText()!==t.promptValue&&(this.jqconsole.SetPromptText(t.promptValue),setTimeout((function(){return e.jqconsole.Focus()}),0))}},{key:"componentDidUpdate",value:function(){this.flushMessages(),this.updatePromptState()}},{key:"componentWillUnmount",value:function(){this.props.setPromptValue(this.jqconsole.GetPromptText())}},{key:"flushMessages",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.props.messages.length>this.state.messageIndex;){var e=this.props.messages[this.state.messageIndex++],o=e.data;"result"===e.type&&o&&(o="=> ".concat(o)),e.type.match(/jqconsole/)&&!t||o&&this.jqconsole.Write(o,e.type,!0)}}},{key:"updatePromptState",value:function(t){var e=this;if(this.jqconsole.GetState()!==this.props.promptState)switch(this.props.promptState){case"input":this.jqconsole.Input((function(t){e.props.onEval("".concat(t,"\n")),e.updatePromptState()}));break;case"output":this.jqconsole.AbortPrompt();break;case"prompt":"input"===this.jqconsole.GetState()&&this.jqconsole.AbortPrompt(),t||this.props.setPromptValue(""),this.jqconsole.Prompt(!0,(function(){var t;return(t=e.props).onEval.apply(t,arguments)}),(function(){var t;return(t=e.props).checkLineEnd.apply(t,arguments)}),!0)}}},{key:"render",value:function(){var t=this,e=g.console;return _("div",{style:e.base,className:"jsx-133901933"},_("div",{className:"jsx-133901933 terminal-opts"},_("span",{title:"Clear",key:"clear",onClick:this.onClear,className:"jsx-133901933 clear-button"})),_(c.a,{id:"133901933"},[".terminal-opts.jsx-133901933{position:absolute;top:0.75em;right:0.75em;z-index:5;}",".input-wrapper.jsx-133901933{cursor:pointer;margin-right:15px;position:relative;}",".input-icon.jsx-133901933{fill:#767878;}",".input-icon.jsx-133901933:hover{fill:#7997a4;}",".clear-button.jsx-133901933{height:18px;width:20px;background-image:url(/public/images/clear.png);background-size:contain;background-repeat:no-repeat;cursor:pointer;display:inline-block;}",".clear-button.jsx-133901933:hover{background-image:url(/public/images/clear_hover.png);}"]),_(b,null),_("div",{ref:function(e){t._console=e},id:"console",style:e.consoleWrapper,className:"jsx-133901933"},_(m.a,{loading:this.props.loading})))}}]),e}(h.Component);f.defaultProps={disabled:!1,promptValue:""};var b=function(){return _(c.a,{id:"243399086"},[".jqconsole-ansi-bold{font-weight:bold !important;}",".jqconsole-ansi-lighter{font-weight:lighter !important;}",".jqconsole-ansi-italic{font-style:italic !important;}",".jqconsole-ansi-underline{-webkit-text-decoration:underline !important;text-decoration:underline !important;}","@-webkit-keyframes blinker{from{opacity:1;}to{opacity:0;}}","@-moz-keyframes blinker{from{opacity:1;}to{opacity:0;}}","@-ms-keyframes blinker{from{opacity:1;}to{opacity:0;}}","@-o-keyframes blinker{from{opacity:1;}to{opacity:0;}}",".jqconsole-ansi-blink{-webkit-animation-name:blinker;-moz-animation-name:blinker;-ms-animation-name:blinker;-o-animation-name:blinker;-webkit-animation-iteration-count:infinite;-moz-animation-iteration-count:infinite;-ms-animation-iteration-count:infinite;-o-animation-iteration-count:infinite;-webkit-animation-timing-function:cubic-bezier(1,0,0,1);-ms-animation-timing-function:cubic-bezier(1,0,0,1);-o-animation-timing-function:cubic-bezier(1,0,0,1);-moz-animation-timing-function:cubic-bezier(1,0,0,1);-webkit-animation-duration:1s;-moz-animation-duration:1s;-o-animation-duration:1s;-ms-animation-duration:1s;}",".jqconsole-ansi-blink-rapid{-webkit-animation-name:blinker;-moz-animation-name:blinker;-ms-animation-name:blinker;-o-animation-name:blinker;-webkit-animation-iteration-count:infinite;-moz-animation-iteration-count:infinite;-ms-animation-iteration-count:infinite;-o-animation-iteration-count:infinite;-webkit-animation-timing-function:cubic-bezier(1,0,0,1);-ms-animation-timing-function:cubic-bezier(1,0,0,1);-o-animation-timing-function:cubic-bezier(1,0,0,1);-moz-animation-timing-function:cubic-bezier(1,0,0,1);-webkit-animation-duration:0.5s;-moz-animation-duration:0.5s;-o-animation-duration:0.5s;-ms-animation-duration:0.5s;}",".jqconsole-ansi-hidden{visibility:hidden !important;}",".jqconsole-ansi-line-through{-webkit-text-decoration:line-through;text-decoration:line-through;}",".jqconsole-ansi-color-black{color:black !important;}",".jqconsole-ansi-color-red{color:red !important;}",".jqconsole-ansi-color-green{color:green !important;}",".jqconsole-ansi-color-yellow{color:yellow !important;}",".jqconsole-ansi-color-blue{color:blue !important;}",".jqconsole-ansi-color-magenta{color:magenta !important;}",".jqconsole-ansi-color-cyan{color:cyan !important;}",".jqconsole-ansi-color-white{color:white !important;}",".jqconsole-ansi-background-color-black{background-color:black !important;}",".jqconsole-ansi-background-color-red{background-color:red !important;}",".jqconsole-ansi-background-color-green{background-color:green !important;}",".jqconsole-ansi-background-color-yellow{background-color:yellow !important;}",".jqconsole-ansi-background-color-blue{background-color:blue !important;}",".jqconsole-ansi-background-color-magenta{background-color:magenta !important;}",".jqconsole-ansi-background-color-cyan{background-color:cyan !important;}",".jqconsole-ansi-background-color-white{background-color:white !important;}",".jqconsole-ansi-framed{border:1px solid !important;}",".jqconsole-ansi-overline{-webkit-text-decoration:overline !important;text-decoration:overline !important;}",".jqconsole-header{display:block;height:1em;}","#console *::selection,#console *::-moz-selection,#console *::-webkit-selection{background:#94a2bb;}",".jqconsole{padding:0 15px 15px;color:#f4ffff;display:block;font-family:monospace;font-size:14px;white-space:-moz-pre-wrap;white-space:-o-pre-wrap;white-space:-pre-wrap;white-space:pre-wrap;word-wrap:break-word;}",".jqconsole-blurred{color:#c4cccc;}",".jqconsole-prompt{font-weight:bold;color:#fc0;background:url(/public/images/sprite.png) -13px -583px no-repeat;margin-left:-8px;}",".jqconsole-blurred .jqconsole-prompt{color:#b91;background:url(/public/images/sprite.png) -13px -615px no-repeat;}",".jqconsole-old-prompt{font-weight:bold;color:#f60;background:url(/public/images/sprite.png) -13px -647px no-repeat;position:relative;left:-8px;}",".jqconsole-blurred .jqconsole-old-prompt{color:#b41;background:url(/public/images/sprite.png) -13px -679px no-repeat;}",".jqconsole-cursor{background:#666;line-height:115%;margin-right:-8px;}",".jqconsole-blurred .jqconsole-cursor{background:#333;}",".jqconsole a{color:white;}",".jqconsole .error{color:#f06;display:block;position:relative;left:-8px;}",".jqconsole-blurred .error{color:#b14;}",".jqconsole .result{color:#6f0;display:block;position:relative;left:-8px;}",".jqconsole-blurred .result{color:#4a1;}",".matching-0,.matching-1,.matching-2,.matching-3,.matching-4{color:#b3b;}",".jqconsole-blurred .matching-1,.jqconsole-blurred .matching-2,.jqconsole-blurred .matching-3,.jqconsole-blurred .matching-4{color:#808;}"])},g={console:{base:{height:"100%",position:"relative",overflow:"hidden"},consoleWrapper:{position:"relative",height:"100%"}}};e.default=f},CUia:function(t,e,o){var i=o("6BQ9");(function(){var t,e,o,n,s,r,p,a,c,h,l,u,m,_,d,f,b,g,y,$,x,v=function(t,e){return function(){return t.apply(e,arguments)}},k=[].slice;t=jQuery,$=1,s=(h="jqconsole-")+"cursor",r=h+"header",u=(l=h+"prompt")+"-text",c=h+"old-prompt",p=h+"input",a=h+"old-input",n=h+"blurred",b="<div/>",f=">>> ",d="... ",_=2,o=h+"ansi-",y=/\[(\d*)(?:;(\d*))*m/,m=/\[[0-9;]*[A-Za-z]/,e=function(){function t(){this.stylize=v(this.stylize,this),this._closeSpan=v(this._closeSpan,this),this._openSpan=v(this._openSpan,this),this.getClasses=v(this.getClasses,this),this._style=v(this._style,this),this._color=v(this._color,this),this._remove=v(this._remove,this),this._append=v(this._append,this),this.klasses=[]}return t.prototype.COLORS=["black","red","green","yellow","blue","magenta","cyan","white"],t.prototype._append=function(t){if(t=""+o+t,-1===this.klasses.indexOf(t))return this.klasses.push(t)},t.prototype._remove=function(){var t,e,i,n,s,r;for(r=[],e=0,s=(n=1<=arguments.length?k.call(arguments,0):[]).length;e<s;e++)"fonts"===(i=n[e])||"color"===i||"background-color"===i?r.push(this.klasses=function(){var e,n,s,r;for(r=[],e=0,n=(s=this.klasses).length;e<n;e++)(t=s[e]).indexOf(i)!==o.length&&r.push(t);return r}.call(this)):(i=""+o+i,r.push(this.klasses=function(){var e,o,n,s;for(s=[],e=0,o=(n=this.klasses).length;e<o;e++)(t=n[e])!==i&&s.push(t);return s}.call(this)));return r},t.prototype._color=function(t){return this.COLORS[t]},t.prototype._style=function(t){if(""===t&&(t=0),t=i(t),!isNaN(t))switch(t){case 0:return this.klasses=[];case 1:return this._append("bold");case 2:return this._append("lighter");case 3:return this._append("italic");case 4:return this._append("underline");case 5:return this._append("blink");case 6:return this._append("blink-rapid");case 8:return this._append("hidden");case 9:return this._append("line-through");case 10:return this._remove("fonts");case 11:case 12:case 13:case 14:case 15:case 16:case 17:case 18:case 19:return this._remove("fonts"),this._append("fonts-"+(t-10));case 20:return this._append("fraktur");case 21:case 22:return this._remove("bold","lighter");case 23:return this._remove("italic","fraktur");case 24:return this._remove("underline");case 25:return this._remove("blink","blink-rapid");case 28:return this._remove("hidden");case 29:return this._remove("line-through");case 30:case 31:case 32:case 33:case 34:case 35:case 36:case 37:return this._remove("color"),this._append("color-"+this._color(t-30));case 39:return this._remove("color");case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:return this._remove("background-color"),this._append("background-color-"+this._color(t-40));case 49:return this._remove("background-color");case 51:return this._append("framed");case 53:return this._append("overline");case 54:return this._remove("framed");case 55:return this._remove("overline")}},t.prototype.getClasses=function(){return this.klasses.join(" ")},t.prototype._openSpan=function(t){return'<span class="'+this.getClasses()+'">'+t},t.prototype._closeSpan=function(t){return t+"</span>"},t.prototype.stylize=function(t){var e,o,i,n,s,r;for(t=this._openSpan(t),i=0;(i=t.indexOf("\x1b",i))&&-1!==i;)if(o=t.slice(i).match(y)){for(n=0,s=(r=o.slice(1)).length;n<s;n++)e=r[n],this._style(e);t=this._closeSpan(t.slice(0,i))+this._openSpan(t.slice(i+1+o[0].length))}else(o=t.slice(i).match(m))?t=t.slice(0,i)+t.slice(i+1+o[0].length):i++;return this._closeSpan(t)},t}(),x=function(t,e){return'<span class="'+t+'">'+(e||"")+"</span>"},g=function(){function o(o,i,n,s,p){null==p&&(p=!1),this._HideComposition=v(this._HideComposition,this),this._ShowComposition=v(this._ShowComposition,this),this._UpdateComposition=v(this._UpdateComposition,this),this._EndComposition=v(this._EndComposition,this),this._StartComposition=v(this._StartComposition,this),this._CheckComposition=v(this._CheckComposition,this),this._ProcessMatch=v(this._ProcessMatch,this),this._HandleKey=v(this._HandleKey,this),this._HandleChar=v(this._HandleChar,this),this.isMobile=!!navigator.userAgent.match(/iPhone|iPad|iPod|Android/i),this.isIos=!!navigator.userAgent.match(/iPhone|iPad|iPod/i),this.isAndroid=!!navigator.userAgent.match(/Android/i),this.auto_focus=!p,this.$window=t(window),this.header=i||"",this.prompt_label_main="string"===typeof n?n:f,this.prompt_label_continue=s||d,this.indent_width=_,this.state=$,this.input_queue=[],this.input_callback=null,this.multiline_callback=null,this.history=[],this.history_index=0,this.history_new="",this.history_active=!1,this.shortcuts={},this.$container=t("<div/>").appendTo(o),this.$container.css({top:0,left:0,right:0,bottom:0,position:"absolute",overflow:"auto"}),this.$console=t('<pre class="jqconsole"/>').appendTo(this.$container),this.$console.css({margin:0,position:"relative","min-height":"100%","box-sizing":"border-box","-moz-box-sizing":"border-box","-webkit-box-sizing":"border-box"}),this.$console_focused=!0,this.$input_container=t(b).appendTo(this.$container),this.$input_container.css({position:"absolute",width:1,height:0,overflow:"hidden"}),this.$input_source=this.isAndroid?t("<input/>"):t("<textarea/>"),this.$input_source.attr({wrap:"off",autocapitalize:"off",autocorrect:"off",spellcheck:"false",autocomplete:"off"}),this.$input_source.css({position:"absolute",width:2}),this.$input_source.appendTo(this.$input_container),this.$composition=t(b),this.$composition.addClass(h+"composition"),this.$composition.css({display:"inline",position:"relative"}),this.matchings={openings:{},closings:{},clss:[]},this.ansi=new e,this._InitPrompt(),this._SetupEvents(),this.Write(this.header,r),t(o).data("jqconsole",this)}return o.prototype.ResetHistory=function(){return this.SetHistory([])},o.prototype.ResetShortcuts=function(){return this.shortcuts={}},o.prototype.ResetMatchings=function(){return this.matchings={openings:{},closings:{},clss:[]}},o.prototype.Reset=function(){this.state!==$&&this.ClearPromptText(!0),this.state=$,this.input_queue=[],this.input_callback=null,this.multiline_callback=null,this.custom_control_key_handler=null,this.custom_keypress_handler=null,this.ResetHistory(),this.ResetShortcuts(),this.ResetMatchings(),this.$prompt.detach(),this.$input_container.detach(),this.$console.html(""),this.$prompt.appendTo(this.$console),this.$input_container.appendTo(this.$container),this.Write(this.header,r)},o.prototype.GetHistory=function(){return this.history},o.prototype.SetHistory=function(t){return this.history=t.slice(),this.history_index=this.history.length},o.prototype._CheckKeyCode=function(t){if(!(0<(t=isNaN(t)?t.charCodeAt(0):i(t,10))&&t<256)||isNaN(t))throw new Error("Key code must be a number between 0 and 256 exclusive.");return t},o.prototype._LetterCaseHelper=function(t,e){if(e(t),65<=t&&t<=90&&e(t+32),97<=t&&t<=122)return e(t-32)},o.prototype.RegisterShortcut=function(t,e){var o,i;if(t=this._CheckKeyCode(t),"function"!==typeof e)throw new Error("Callback must be a function, not "+e+".");i=this,o=function(t){return t in i.shortcuts||(i.shortcuts[t]=[]),i.shortcuts[t].push(e)},this._LetterCaseHelper(t,o)},o.prototype.UnRegisterShortcut=function(t,e){var o,i;t=this._CheckKeyCode(t),i=this,o=function(t){if(t in i.shortcuts)return e?i.shortcuts[t].splice(i.shortcuts[t].indexOf(e),1):delete i.shortcuts[t]},this._LetterCaseHelper(t,o)},o.prototype.GetColumn=function(){var t;return this.$prompt_right.detach(),this.$prompt_cursor.text(""),t=this.$console.text().split("\n"),this.$prompt_cursor.html("&nbsp;"),this.$prompt_cursor.after(this.$prompt_right),t[t.length-1].length},o.prototype.GetLine=function(){return this.$console.text().split("\n").length-1},o.prototype.ClearPromptText=function(t){if(this.state===$)throw new Error("ClearPromptText() is not allowed in output state.");this.$prompt_before.html(""),this.$prompt_after.html(""),this.$prompt_label.text(t?"":this._SelectPromptLabel(!1)),this.$prompt_left.text(""),this.$prompt_right.text("")},o.prototype.GetPromptText=function(e){var o,i,n,s,r;if(this.state===$)throw new Error("GetPromptText() is not allowed in output state.");return e?(this.$prompt_cursor.text(""),r=this.$prompt.text(),this.$prompt_cursor.html("&nbsp;"),r):((i=(s=function(e){var o;return o=[],e.children().each((function(){return o.push(t(this).children().last().text())})),o.join("\n")})(this.$prompt_before))&&(i+="\n"),n=this.$prompt_left.text()+this.$prompt_right.text(),(o=s(this.$prompt_after))&&(o="\n"+o),i+n+o)},o.prototype.SetPromptText=function(t){if(this.state===$)throw new Error("SetPromptText() is not allowed in output state.");this.ClearPromptText(!1),this._AppendPromptText(t),this._ScrollToEnd()},o.prototype.SetPromptLabel=function(t,e){this.prompt_label_main=t,null!=e&&(this.prompt_label_continue=e)},o.prototype.UpdatePromptLabel=function(){var t;return">span+span>span:first-child",t="."+l+">span+span>span:first-child",this.$console.find(t).text(this.prompt_label_main)},o.prototype.Write=function(e,o,i){var n;return null==i&&(i=!0),i&&(e=this.ansi.stylize(t("<span/>").text(e).html())),n=t("<span/>").html(e),null!=o&&n.addClass(o),this.Append(n)},o.prototype.Append=function(e){var o;return o=t(e).insertBefore(this.$prompt),this._ScrollToEnd(),this.$prompt_cursor.detach().insertAfter(this.$prompt_left),o},o.prototype.Input=function(t){var e,o,i,n,s;if(2===this.state)i=this.input_callback,n=this.multiline_callback,o=this.history_active,e=this.async_multiline,this.AbortPrompt(),this.input_queue.unshift((s=this,function(){return s.Prompt(o,i,n,e)}));else if(this.state!==$)return void this.input_queue.push(function(e){return function(){return e.Input(t)}}(this));this.history_active=!1,this.input_callback=t,this.multiline_callback=null,this.state=0,this.$prompt.attr("class",p),this.$prompt_label.text(this._SelectPromptLabel(!1)),this.Focus(),this._ScrollToEnd()},o.prototype.Prompt=function(t,e,o,i){var n;this.state===$?(this.history_active=t,this.input_callback=e,this.multiline_callback=o,this.async_multiline=i,this.state=2,this.$prompt.attr("class",l+" "+this.ansi.getClasses()),this.$prompt_label.text(this._SelectPromptLabel(!1)),this.auto_focus&&this.Focus(),this._ScrollToEnd()):this.input_queue.push((n=this,function(){return n.Prompt(t,e,o,i)}))},o.prototype.AbortPrompt=function(){var t;if(this.state===$)throw new Error("Cannot abort prompt when not in prompt or input state.");t=this.GetPromptText(!0),0===this.state?0!==t.trim().length&&this.Write(t+"\n",a):this.Write(t+"\n",c),this.ClearPromptText(!0),this.state=$,this.input_callback=this.multiline_callback=null,this._CheckInputQueue()},o.prototype.Focus=function(){this.IsDisabled()||this.$input_source.focus()},o.prototype.SetIndentWidth=function(t){return this.indent_width=t},o.prototype.GetIndentWidth=function(){return this.indent_width},o.prototype.RegisterMatching=function(t,e,o){var i;return i={opening_char:t,closing_char:e,cls:o},this.matchings.clss.push(o),this.matchings.openings[t]=i,this.matchings.closings[e]=i},o.prototype.UnRegisterMatching=function(t,e){var o;return o=this.matchings.openings[t].cls,delete this.matchings.openings[t],delete this.matchings.closings[e],this.matchings.clss.splice(this.matchings.clss.indexOf(o),1)},o.prototype.Dump=function(){var e,o;return e=this.$console.find("."+r).nextUntil("."+l).addBack(),function(){var i,n,s;for(s=[],i=0,n=e.length;i<n;i++)o=e[i],t(o).is("."+c)?s.push(t(o).text().replace(/^\s+/,">>> ")):s.push(t(o).text());return s}().join("")},o.prototype.GetState=function(){return 0===this.state?"input":this.state===$?"output":"prompt"},o.prototype.Disable=function(){return this.$input_source.attr("disabled",!0),this.$input_source.blur()},o.prototype.Enable=function(){return this.$input_source.attr("disabled",!1)},o.prototype.IsDisabled=function(){return Boolean(this.$input_source.attr("disabled"))},o.prototype.MoveToStart=function(t){this._MoveTo(t,!0)},o.prototype.MoveToEnd=function(t){this._MoveTo(t,!1)},o.prototype.Clear=function(){var t;return t=0===this.state?p:l,this.$console.find("."+r).nextUntil("."+t).addBack().text(""),this.$prompt_cursor.detach(),this.$prompt_right.before(this.$prompt_cursor)},o.prototype._CheckInputQueue=function(){if(this.input_queue.length)return this.input_queue.shift()()},o.prototype._InitPrompt=function(){if(this.$prompt=t(x(p)).appendTo(this.$console),this.$prompt_before=t("<span/>").appendTo(this.$prompt),this.$prompt_current=t("<span/>").appendTo(this.$prompt),this.$prompt_after=t("<span/>").appendTo(this.$prompt),this.$prompt_label=t("<span/>").appendTo(this.$prompt_current),this.$prompt_left=t("<span/>").appendTo(this.$prompt_current),this.$prompt_right=t("<span/>").appendTo(this.$prompt_current),this.$prompt_right.css({position:"relative"}),this.$prompt_left.addClass(u),this.$prompt_cursor=t(x(s,"&nbsp;")),this.$prompt_cursor.insertBefore(this.$prompt_right),this.$prompt_cursor.css({color:"transparent",display:"inline",zIndex:0}),!this.isMobile)return this.$prompt_cursor.css("position","absolute")},o.prototype._SetupEvents=function(){var t;return this.isMobile?this.$console.click((t=this,function(e){return e.preventDefault(),t.Focus()})):this.$console.mouseup(function(t){return function(e){return 2===e.which?t.Focus():setTimeout((function(){if(!window.getSelection().toString())return e.preventDefault(),t.Focus()}),0)}}(this)),this.$input_source.focus(function(t){return function(){return t._ScrollToEnd(),t.$console_focused=!0,t.$console.removeClass(n),setTimeout((function(){if(t.$console_focused)return t.$console.removeClass(n)}),100),setTimeout((function(){if(t.isIos&&t.$console_focused)return t.$input_source.hide()}),500)}}(this)),this.$input_source.blur(function(t){return function(){return t.$console_focused=!1,t.isIos&&t.$input_source.show(),setTimeout((function(){if(!t.$console_focused)return t.$console.addClass(n)}),100)}}(this)),this.$input_source.bind("paste",function(t){return function(){return setTimeout((function(){if(!t.in_composition)return t._AppendPromptText(t.$input_source.val()),t.$input_source.val(""),t.Focus()}),0)}}(this)),this.$input_source.keypress(this._HandleChar),this.$input_source.keydown(this._HandleKey),this.$input_source.keydown(this._CheckComposition),this.$input_source.bind("compositionstart",this._StartComposition),this.$input_source.bind("compositionend",function(t){return function(e){return setTimeout((function(){return t._EndComposition(e)}),0)}}(this)),this.isAndroid?(this.$input_source.bind("input",this._StartComposition),this.$input_source.bind("input",this._UpdateComposition)):this.$input_source.bind("text",this._UpdateComposition)},o.prototype.SetKeyPressHandler=function(t){return this.custom_keypress_handler=t},o.prototype.SetControlKeyHandler=function(t){return this.custom_control_key_handler=t},o.prototype._HandleChar=function(t){var e;return!(this.state!==$&&!t.metaKey&&!t.ctrlKey)||8!==(e=t.which)&&9!==e&&13!==e&&((null==this.custom_keypress_handler||!1!==this.custom_keypress_handler.call(this,t))&&(this.$prompt_left.text(this.$prompt_left.text()+String.fromCharCode(e)),this._ScrollToEnd(),!1))},o.prototype._HandleKey=function(e){var o;if(this.state===$)return!0;if(o=e.keyCode||e.which,setTimeout(t.proxy(this._CheckMatchings,this),0),null!=this.custom_control_key_handler&&!1===this.custom_control_key_handler.call(this,e))return!1;if(e.altKey)return!0;if(e.ctrlKey||e.metaKey)return this._HandleCtrlShortcut(o);if(e.shiftKey){switch(o){case 13:this._HandleEnter(!0);break;case 9:this._Unindent();break;case 38:this._MoveUp();break;case 40:this._MoveDown();break;case 33:this._ScrollPage("up");break;case 34:this._ScrollPage("down");break;default:return!0}return!1}switch(o){case 13:this._HandleEnter(!1);break;case 9:this._Indent();break;case 46:this._Delete(!1);break;case 8:this._Backspace(!1);break;case 37:this._MoveLeft(!1);break;case 39:this._MoveRight(!1);break;case 38:this._HistoryPrevious();break;case 40:this._HistoryNext();break;case 36:this.MoveToStart(!1);break;case 35:this.MoveToEnd(!1);break;case 33:this._ScrollPage("up");break;case 34:this._ScrollPage("down");break;default:return!0}return!1},o.prototype._HandleCtrlShortcut=function(t){var e,o,i;switch(t){case 46:this._Delete(!0);break;case 8:this._Backspace(!0);break;case 37:this._MoveLeft(!0);break;case 39:this._MoveRight(!0);break;case 38:this._MoveUp();break;case 40:this._MoveDown();break;case 35:this.MoveToEnd(!0);break;case 36:this.MoveToStart(!0);break;default:if(t in this.shortcuts){for(e=0,o=(i=this.shortcuts[t]).length;e<o;e++)i[e].call(this);return!1}return!0}return!1},o.prototype._HandleEnter=function(t){var e,o,i;return this._EndComposition(),t?this._InsertNewLine(!0):(o=this.GetPromptText(),i=this,e=function(t){var e,n,s,r,p;if(!1!==t){for(i.MoveToEnd(!0),i._InsertNewLine(!0),p=[],s=0,r=Math.abs(t);0<=r?s<r:s>r;0<=r?++s:--s)t>0?p.push(i._Indent()):p.push(i._Unindent());return p}return n=0===i.state?"input":"prompt",i.Write(i.GetPromptText(!0)+"\n",h+"old-"+n),i.ClearPromptText(!0),i.history_active&&(i.history.length&&i.history[i.history.length-1]===o||i.history.push(o),i.history_index=i.history.length),i.state=$,e=i.input_callback,i.input_callback=null,e&&e(o),i._CheckInputQueue()},this.multiline_callback?this.async_multiline?this.multiline_callback(o,e):e(this.multiline_callback(o)):e(!1))},o.prototype._GetDirectionals=function(e){return{$prompt_which:e?this.$prompt_left:this.$prompt_right,$prompt_opposite:e?this.$prompt_right:this.$prompt_left,$prompt_relative:e?this.$prompt_before:this.$prompt_after,$prompt_rel_opposite:e?this.$prompt_after:this.$prompt_before,MoveToLimit:e?t.proxy(this.MoveToStart,this):t.proxy(this.MoveToEnd,this),MoveDirection:e?t.proxy(this._MoveLeft,this):t.proxy(this._MoveRight,this),which_end:e?"last":"first",where_append:e?"prependTo":"appendTo"}},o.prototype._VerticalMove=function(t){var e,o,i,n,s,r,p,a;if(i=(p=this._GetDirectionals(t)).$prompt_which,e=p.$prompt_opposite,o=p.$prompt_relative,s=p.MoveToLimit,n=p.MoveDirection,!o.is(":empty"))return r=this.$prompt_left.text().length,s(),n(),a=i.text(),e.text(t?a.slice(r):a.slice(0,r)),i.text(t?a.slice(0,r):a.slice(r))},o.prototype._MoveUp=function(){return this._VerticalMove(!0)},o.prototype._MoveDown=function(){return this._VerticalMove()},o.prototype._HorizontalMove=function(e,o){var i,n,s,r,p,a,c,h,l,u,m,_,d,f;if(p=(h=this._GetDirectionals(o)).$prompt_which,n=h.$prompt_opposite,r=h.$prompt_relative,s=h.$prompt_rel_opposite,d=h.which_end,_=h.where_append,l=o?/\w*\W*$/:/^\w*\W*/,u=p.text()){if(e){if(!(f=u.match(l)))return;return f=f[0],m=n.text(),n.text(o?f+m:m+f),c=f.length,p.text(o?u.slice(0,-c):u.slice(c))}return m=n.text(),n.text(o?u.slice(-1)+m:m+u[0]),p.text(o?u.slice(0,-1):u.slice(1))}if(!r.is(":empty"))return(a=t("<span/>")[_](s)).append(t("<span/>").text(this.$prompt_label.text())),a.append(t("<span/>").text(n.text())),i=r.children()[d]().detach(),this.$prompt_label.text(i.children().first().text()),p.text(i.children().last().text()),n.text("")},o.prototype._MoveLeft=function(t){return this._HorizontalMove(t,!0)},o.prototype._MoveRight=function(t){return this._HorizontalMove(t)},o.prototype._MoveTo=function(t,e){var o,i,n,s,r,p,a;if(n=(p=this._GetDirectionals(e)).$prompt_which,o=p.$prompt_opposite,i=p.$prompt_relative,r=p.MoveToLimit,s=p.MoveDirection,t){for(a=[];!i.is(":empty")||""!==n.text();)r(!1),a.push(s(!1));return a}return o.text(this.$prompt_left.text()+this.$prompt_right.text()),n.text("")},o.prototype._Delete=function(t){var e,o,i;if(o=this.$prompt_right.text()){if(t){if(!(i=o.match(/^\w*\W*/)))return;return i=i[0],this.$prompt_right.text(o.slice(i.length))}return this.$prompt_right.text(o.slice(1))}if(!this.$prompt_after.is(":empty"))return e=this.$prompt_after.children().first().detach(),this.$prompt_right.text(e.children().last().text())},o.prototype._Backspace=function(e){var o,i,n;if(setTimeout(t.proxy(this._ScrollToEnd,this),0),i=this.$prompt_left.text()){if(e){if(!(n=i.match(/\w*\W*$/)))return;return n=n[0],this.$prompt_left.text(i.slice(0,-n.length))}return this.$prompt_left.text(i.slice(0,-1))}if(!this.$prompt_before.is(":empty"))return o=this.$prompt_before.children().last().detach(),this.$prompt_label.text(o.children().first().text()),this.$prompt_left.text(o.children().last().text())},o.prototype._Indent=function(){return this.$prompt_left.prepend(function(){var t,e,o;for(o=[],t=1,e=this.indent_width;1<=e?t<=e:t>=e;1<=e?++t:--t)o.push(" ");return o}.call(this).join(""))},o.prototype._Unindent=function(){var t,e,o,i;for(e=this.$prompt_left.text()+this.$prompt_right.text(),i=[],t=1,o=this.indent_width;(1<=o?t<=o:t>=o)&&/^ /.test(e);1<=o?++t:--t)this.$prompt_left.text()?this.$prompt_left.text(this.$prompt_left.text().slice(1)):this.$prompt_right.text(this.$prompt_right.text().slice(1)),i.push(e=e.slice(1));return i},o.prototype._InsertNewLine=function(e){var o,i,n;return null==e&&(e=!1),n=this._SelectPromptLabel(!this.$prompt_before.is(":empty")),(o=t("<span/>").appendTo(this.$prompt_before)).append(t("<span/>").text(n)),o.append(t("<span/>").addClass(u).text(this.$prompt_left.text())),this.$prompt_label.text(this._SelectPromptLabel(!0)),e&&(i=this.$prompt_left.text().match(/^\s+/))?this.$prompt_left.text(i[0]):this.$prompt_left.text(""),this._ScrollToEnd()},o.prototype._AppendPromptText=function(t){var e,o,i,n,s,r;for(n=t.split("\n"),this.$prompt_left.text(this.$prompt_left.text()+n[0]),r=[],e=0,o=(s=n.slice(1)).length;e<o;e++)i=s[e],this._InsertNewLine(),r.push(this.$prompt_left.text(i));return r},o.prototype._ScrollPage=function(t){var e;return e=this.$container[0].scrollTop,"up"===t?e-=this.$container.height():e+=this.$container.height(),this.$container.stop().animate({scrollTop:e},"fast")},o.prototype._ScrollToEnd=function(){var t;if(this.$container.scrollTop(this.$container[0].scrollHeight),t=this.$prompt_cursor.position(),this.$input_container.css({left:t.left,top:t.top}),this.auto_focus)return setTimeout(this.ScrollWindowToPrompt.bind(this),50)},o.prototype.ScrollWindowToPrompt=function(){var t,e,o,i,n;if(e=this.$prompt_cursor.height(),n=this.$window.scrollTop(),this.$window.scrollLeft(),t=document.documentElement.clientHeight,o=(i=this.$prompt_cursor.offset()).top-2*e,this.isMobile&&"undefined"!==typeof orientation&&null!==orientation){if(n<i.top||n>i.top)return this.$window.scrollTop(o)}else{if(n+t<i.top)return this.$window.scrollTop(i.top-t+e);if(n>o)return this.$window.scrollTop(i.top)}},o.prototype._SelectPromptLabel=function(t){return 2===this.state?t?" \n"+this.prompt_label_continue:this.prompt_label_main:t?"\n ":" "},o.prototype._Wrap=function(t,e,o){var i,n;return i=(n=t.html()).slice(0,e)+x(o,n[e])+n.slice(e+1),t.html(i)},o.prototype._WalkCharacters=function(t,e,o,i,n){var s,r,p;for(r=n?t.length:0,t=t.split(""),p=function(){var e,o,i,s;return n?(t=2<=(o=t).length?k.call(o,0,e=o.length-1):(e=0,[]),s=o[e++]):(s=(i=t)[0],t=2<=i.length?k.call(i,1):[]),s&&(r+=n?-1:1),s};s=p();)if(s===e?i++:s===o&&i--,0===i)return{index:r,current_count:i};return{index:-1,current_count:i}},o.prototype._ProcessMatch=function(e,o,i){var n,s,r,p,a,c,h,l,u,m,_,d,f;return u=o?[e.closing_char,e.opening_char]:[e.opening_char,e.closing_char],p=u[0],l=u[1],r=(m=this._GetDirectionals(o)).$prompt_which,s=m.$prompt_relative,a=1,c=!1,d=r.html(),o||(d=d.slice(1)),i&&o&&(d=d.slice(0,-1)),_=this._WalkCharacters(d,p,l,a,o),h=_.index,a=_.current_count,h>-1?(this._Wrap(r,h,e.cls),c=!0):(n=s.children(),(n=o?Array.prototype.reverse.call(n):n).each((f=this,function(i,n){var s,r;if(s=t(n).children().last(),d=s.html(),r=f._WalkCharacters(d,p,l,a,o),h=r.index,a=r.current_count,h>-1)return o||h--,f._Wrap(s,h,e.cls),c=!0,!1}))),c},o.prototype._CheckMatchings=function(e){var o,i,n,s,r,p,a;for(n=e?this.$prompt_left.text().slice(this.$prompt_left.text().length-1):this.$prompt_right.text()[0],r=0,p=(a=this.matchings.clss).length;r<p;r++)o=a[r],t("."+o,this.$console).contents().unwrap();if((i=this.matchings.closings[n])?s=this._ProcessMatch(i,!0,e):(i=this.matchings.openings[n])?s=this._ProcessMatch(i,!1,e):e||this._CheckMatchings(!0),e){if(s)return this._Wrap(this.$prompt_left,this.$prompt_left.html().length-1,i.cls)}else if(s)return this._Wrap(this.$prompt_right,0,i.cls)},o.prototype._HistoryPrevious=function(){if(this.history_active&&!(this.history_index<=0))return this.history_index===this.history.length&&(this.history_new=this.GetPromptText()),this.SetPromptText(this.history[--this.history_index])},o.prototype._HistoryNext=function(){if(this.history_active&&!(this.history_index>=this.history.length))return this.history_index===this.history.length-1?(this.history_index++,this.SetPromptText(this.history_new)):this.SetPromptText(this.history[++this.history_index])},o.prototype._CheckComposition=function(t){if(229===(t.keyCode||t.which))return this.in_composition?this._UpdateComposition():this._StartComposition()},o.prototype._StartComposition=function(){if(!this.in_composition)return this.in_composition=!0,this._ShowComposition(),setTimeout(this._UpdateComposition,0)},o.prototype._EndComposition=function(){if(this.in_composition)return this._HideComposition(),this.$prompt_left.text(this.$prompt_left.text()+this.$composition.text()),this.$composition.text(""),this.$input_source.val(""),this.in_composition=!1},o.prototype._UpdateComposition=function(t){var e;return e=this,setTimeout((function(){if(e.in_composition)return e.$composition.text(e.$input_source.val())}),0)},o.prototype._ShowComposition=function(){return this.$composition.css("height",this.$prompt_cursor.height()),this.$composition.empty(),this.$composition.appendTo(this.$prompt_left)},o.prototype._HideComposition=function(){return this.$composition.detach()},o}(),t.fn.jqconsole=function(t,e,o,i){return new g(this,t,e,o,i)},t.fn.jqconsole.JQConsole=g,t.fn.jqconsole.Ansi=e}).call(this)}}]);
//# sourceMappingURL=118.57b6af7f1bdbd70264f4.js.map
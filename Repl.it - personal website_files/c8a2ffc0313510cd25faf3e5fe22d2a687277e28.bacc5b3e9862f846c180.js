(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{"2koE":function(t,e,o){"use strict";o.d(e,"b",(function(){return x}));var n=o("rt45"),a=o("MX0m"),r=o.n(a),s=o("q1tI"),c=o("lTCR"),i=o.n(c),l=o("vbcS"),u=o("zgDP"),d=o("RGhV"),v=o("igWl"),m=o("8bdv"),p=s.createElement;function f(){var t=Object(n.a)(["\n  query post($id: Int!, $after: String) {\n    post(id: $id) {\n      ...PostVotesVotes\n    }\n  }\n  ","\n"]);return f=function(){return t},t}function g(){var t=Object(n.a)(["\n    fragment PostVotesUser on User {\n      id\n      ...DepreciatedUserLabelWithImageUser\n    }\n    ","\n  "]);return g=function(){return t},t}function h(){var t=Object(n.a)(["\n  fragment PostVotesVotes on Post {\n    id\n    voteCount\n    votes(after: $after) {\n      items {\n        id\n        user {\n          ...DepreciatedUserLabelWithImageUser\n        }\n      }\n      pageInfo {\n        hasNextPage\n        nextCursor\n      }\n    }\n  }\n  ","\n"]);return h=function(){return t},t}var x={votes:i()(h(),m.a.fragments.user),user:i()(g(),m.a.fragments.user)},y=i()(f(),x.votes),b=Object(d.a)("post","votes");e.a=function(t){return p(l.b,{query:y,variables:{id:t.postId}},(function(t){var e=t.data,o=t.variables,n=t.fetchMore;return e&&e.post&&e.post.votes?p("div",{className:"jsx-312575682"},e.post.votes.items.length?p("div",{className:"jsx-312575682 post-votes-heading"},p("b",{className:"jsx-312575682"},"Voters")):null,p("div",{className:"jsx-312575682 post-votes-list"},e.post.votes.items.filter((function(t){return!!t.user})).map((function(t,e){return p("div",{key:t.user?t.user.id:e,className:"jsx-312575682 post-votes-list-item"},p(v.a,{username:t.user.username,theme:"replitLight"},p(m.a,{size:"xs",user:t.user})))}))),p("div",{className:"jsx-312575682"},e.post.votes.pageInfo.hasNextPage?p("a",{onClick:function(t){t.preventDefault(),Object(u.track)(u.events.POST_VOTES_LOAD_MORE_CLICKED,{postId:o.id}),n({variables:{id:o.id,after:e.post.votes.pageInfo.nextCursor},updateQuery:b})},className:"jsx-312575682 post-votes-load-more"},e.post.voteCount-e.post.votes.items.length," more..."):null),p(r.a,{id:"312575682"},[".post-votes-heading.jsx-312575682{font-size:16px;margin-bottom:10px;}",".post-votes-list.jsx-312575682{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-left:-10px;margin-right:-10px;}",".post-votes-list-item.jsx-312575682{margin:0 10px 10px;}",".post-votes-list-item.jsx-312575682:first-child{-webkit-flex:0 0 auto;-ms-flex:0 0 auto;flex:0 0 auto;margin-right:5px;}",".post-votes-load-more.jsx-312575682{margin:5px 0;font-size:14px;}"])):null}))}},"3gM7":function(t,e,o){"use strict";var n=o("ln6h"),a=o.n(n),r=o("9Jkg"),s=o.n(r),c=o("G5Ub");e.a=function(t,e){var o,n,r;return a.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:if(!t){i.next=4;break}o=t.user,i.next=13;break;case 4:if(!((n=e.getState().user)&&n.userInfo.isLoggedIn&&n.userInfo)){i.next=9;break}o=n.userInfo,i.next=13;break;case 9:return i.next=11,a.a.awrap(Object(c.b)("/is_authenticated"));case 11:(r=i.sent).success&&(o=r.user);case 13:return o&&(t&&(o=JSON.parse(s()(o))),e.dispatch({type:"FETCH_USER_INFO_SUCCESS",user:o})),i.abrupt("return",{user:o});case 15:case"end":return i.stop()}}))}},Fklr:function(t,e,o){"use strict";var n=o("q1tI"),a=o("EQ2k"),r=n.createElement,s=function(t){var e=t.size,o=t.color;return r("svg",{width:e,height:e,fill:o,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},r("path",{d:"M9 16.17L5.53 12.7c-.39-.39-1.02-.39-1.41 0-.39.39-.39 1.02 0 1.41l4.18 4.18c.39.39 1.02.39 1.41 0L20.29 7.71c.39-.39.39-1.02 0-1.41-.39-.39-1.02-.39-1.41 0L9 16.17z"}))};s.defaultProps={color:a.a.green},e.a=s},RGhV:function(t,e,o){"use strict";o.d(e,"a",(function(){return y})),o.d(e,"b",(function(){return b}));var n=o("hfKm"),a=o.n(n),r=o("2Eek"),s=o.n(r),c=o("XoMD"),i=o.n(c),l=o("Jo+v"),u=o.n(l),d=o("4mXO"),v=o.n(d),m=o("pLtp"),p=o.n(m),f=o("dfwq"),g=o("vYYK");function h(t,e){var o=p()(t);if(v.a){var n=v()(t);e&&(n=n.filter((function(e){return u()(t,e).enumerable}))),o.push.apply(o,n)}return o}function x(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?h(Object(o),!0).forEach((function(e){Object(g.a)(t,e,o[e])})):i.a?s()(t,i()(o)):h(Object(o)).forEach((function(e){a()(t,e,u()(o,e))}))}return t}function y(t,e){return function(o,n){if(!n||!n.fetchMoreResult)return o;var a=n.fetchMoreResult,r=o?o[t][e].items:[],s=x({},a);return s[t][e].items=[].concat(Object(f.a)(r),Object(f.a)(a[t][e].items)),s}}function b(t){return function(e,o){if(!o||!o.fetchMoreResult)return e;var n=o.fetchMoreResult,a=e?e[t].items:[],r=x({},n);return r[t].items=[].concat(Object(f.a)(a),Object(f.a)(n[t].items)),r}}},Tca6:function(t,e,o){"use strict";o.d(e,"b",(function(){return w}));var n=o("ln6h"),a=o.n(n),r=o("qNsG"),s=o("rt45"),c=o("q1tI"),i=o("lTCR"),l=o.n(i),u=o("vbcS"),d=o("/MKj"),v=o("ArsQ"),m=o("2koE"),p=o("bL+A"),f=o("ShKv"),g=o("7J1T"),h=c.createElement;function x(){var t=Object(s.a)(["\n  mutation deletePostVote($postId: Int!) {\n    deletePostVote(postId: $postId) {\n      id\n      post {\n        id\n        ...PostVoteControlPost\n      }\n    }\n  }\n  ","\n"]);return x=function(){return t},t}function y(){var t=Object(s.a)(["\n  mutation createPostVote($postId: Int!) {\n    createPostVote(postId: $postId) {\n      id\n      post {\n        ...PostVoteControlPost\n      }\n      user {\n        ...PostVotesUser\n      }\n    }\n  }\n  ","\n  ","\n"]);return y=function(){return t},t}function b(){var t=Object(s.a)(["\n    fragment PostVoteControlPost on Post {\n      id\n      voteCount\n      canVote\n      hasVoted\n    }\n  "]);return b=function(){return t},t}var w={post:l()(b())},j=l()(y(),w.post,m.b.user),k=l()(x(),w.post),L=function(t){var e=t.post,o=t.lite,n=Object(r.a)(t,["post","lite"]);return h(u.a,{mutation:e.hasVoted?k:j,update:function(t,o){var n,a=o.data,r=Object(f.a)(e),s=m.b.votes;try{n=t.readFragment({id:r,fragment:s,fragmentName:"PostVotesVotes"})}catch(i){if(i.message.startsWith("Can't find field votes"))return;throw i}var c=n.votes&&n.votes.items?n.votes.items:[];a.createPostVote?c.unshift(a.createPostVote):a.deletePostVote&&(c=c.filter((function(t){return t.id!==a.deletePostVote.id}))),n.votes||(n.votes={}),n.votes.items=c,t.writeFragment({id:r,fragment:s,fragmentName:"PostVotesVotes",data:n})}},(function(t,r){var s=r.loading;return h(p.a,{lite:o,hasVoted:e.hasVoted,canVote:e.canVote,voteCount:e.voteCount,onClick:function(){var o;return a.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:if(!s){r.next=2;break}return r.abrupt("return");case 2:if(!e.canVote){r.next=14;break}return r.prev=3,r.next=6,a.a.awrap(t({variables:{postId:e.id}}));case 6:r.next=12;break;case 8:r.prev=8,r.t0=r.catch(3),o=r.t0.graphQLErrors.length&&r.t0.graphQLErrors[0].message||"Something went wrong. Please contact support",n.showMessage({content:o,type:"error",time:4e3});case 12:r.next=15;break;case 14:n.isLoggedIn||n.showAuthModal();case 15:case"end":return r.stop()}}),null,null,[[3,8]])}})}))};L.fragments=w,e.a=Object(d.connect)((function(t){return{isLoggedIn:t.user.userInfo.isLoggedIn}}),{showAuthModal:g.e,showMessage:v.b})(L)},ZY4G:function(t,e,o){"use strict";var n=o("MX0m"),a=o.n(n),r=o("q1tI"),s=o("EQ2k"),c=r.createElement,i=function(t){var e=t.stroke,o=t.width,n=t.height;return c("div",{className:a.a.dynamic([["1937252334",[o||"auto",n||"auto"]]])},c("svg",{width:"53px",height:"37px",viewBox:"0 0 53 37",version:"1.1",xmlns:"http://www.w3.org/2000/svg",className:a.a.dynamic([["1937252334",[o||"auto",n||"auto"]]])},c("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",strokeLinecap:"round",strokeLinejoin:"round",className:a.a.dynamic([["1937252334",[o||"auto",n||"auto"]]])},c("g",{stroke:e,strokeWidth:"2",className:a.a.dynamic([["1937252334",[o||"auto",n||"auto"]]])},c("g",{className:a.a.dynamic([["1937252334",[o||"auto",n||"auto"]]])},c("polygon",{points:"41.73 29.68 5 23 5 7 41.73 0.32",className:a.a.dynamic([["1937252334",[o||"auto",n||"auto"]]])}),c("path",{d:"M11,6 L11,31.25 C11.0036168,33.6295084 12.7465542,35.6487651 15.1,36 L17.5,36",className:a.a.dynamic([["1937252334",[o||"auto",n||"auto"]]])}),c("path",{d:"M5,9 L5,21 C2.23857625,21 8.8817842e-16,18.7614237 8.8817842e-16,16 L8.8817842e-16,14 C8.8817842e-16,11.2385763 2.23857625,9 5,9 Z",className:a.a.dynamic([["1937252334",[o||"auto",n||"auto"]]])}),c("path",{d:"M48,15 L52,15",className:a.a.dynamic([["1937252334",[o||"auto",n||"auto"]]])}),c("path",{d:"M47.44,10.25 L50.56,7.75",className:a.a.dynamic([["1937252334",[o||"auto",n||"auto"]]])}),c("path",{d:"M50.56,22.25 L47.44,19.75",className:a.a.dynamic([["1937252334",[o||"auto",n||"auto"]]])}))))),c(a.a,{id:"1937252334",dynamic:[o||"auto",n||"auto"]},["svg.__jsx-style-dynamic-selector{display:block;width:".concat(o||"auto",";height:").concat(n||"auto",";}")]))};i.defaultProps={stroke:s.a.yellow,width:"40px"},e.a=i},"bL+A":function(t,e,o){"use strict";var n=o("MX0m"),a=o.n(n),r=o("q1tI"),s=o("TSYQ"),c=o.n(s),i=o("/MKj"),l=o("EQ2k"),u=o("7J1T"),d=r.createElement;e.a=Object(i.connect)((function(t){return{isLoggedIn:t.user.userInfo.isLoggedIn}}),{showAuthModal:u.e})((function(t){return d("button",{onClick:function(){t.canVote?t.onClick():t.isLoggedIn||t.showAuthModal()},title:"Upvote",className:a.a.dynamic([["106747328",[l.a.black,l.a.black,l.a.green,l.a.green,l.a.green,l.a.green,l.a.green]]])+" "+(c()("vote-control",t.lite?"vote-control-lite":"vote-control-heavy",{"vote-control-active":t.hasVoted,"vote-control-can-vote":t.canVote})||"")},d("div",{className:a.a.dynamic([["106747328",[l.a.black,l.a.black,l.a.green,l.a.green,l.a.green,l.a.green,l.a.green]]])+" vote-control-arrow"},"\u25b2"),d("div",{className:a.a.dynamic([["106747328",[l.a.black,l.a.black,l.a.green,l.a.green,l.a.green,l.a.green,l.a.green]]])+" vote-control-count"},t.voteCount),d(a.a,{id:"106747328",dynamic:[l.a.black,l.a.black,l.a.green,l.a.green,l.a.green,l.a.green,l.a.green]},["button.__jsx-style-dynamic-selector{background-color:transparent;border:0 none;}",".vote-control.__jsx-style-dynamic-selector{color:".concat(l.a.black,";text-align:center;width:40px;max-width:100%;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}"),".vote-control-heavy.__jsx-style-dynamic-selector{border:1px solid ".concat(l.a.black,";border-radius:4px;}"),".vote-control-can-vote.__jsx-style-dynamic-selector{cursor:pointer;}",".vote-control-heavy.vote-control-can-vote.__jsx-style-dynamic-selector:hover{background-color:".concat(l.a.green,";color:white;}"),".vote-control-heavy.vote-control-can-vote.__jsx-style-dynamic-selector:hover,.vote-control-heavy.vote-control-active.__jsx-style-dynamic-selector{border:1px solid ".concat(l.a.green,";}"),".vote-control-lite.vote-control-can-vote.__jsx-style-dynamic-selector:hover,.vote-control-lite.vote-control-active.__jsx-style-dynamic-selector{color:".concat(l.a.green,";}"),".vote-control-arrow.__jsx-style-dynamic-selector{font-size:16px;padding:5px;pointer-events:none;}",".vote-control-count.__jsx-style-dynamic-selector{pointer-events:none;font-size:16px;font-weight:bold;padding:0 5px 5px;}",".vote-control-active.__jsx-style-dynamic-selector,.vote-control-active.__jsx-style-dynamic-selector:hover{color:".concat(l.a.green,";}"),".vote-control-heavy.vote-control-active.__jsx-style-dynamic-selector,.vote-control-heavy.vote-control-active.__jsx-style-dynamic-selector:hover{background-color:".concat(l.a.green,";color:white;}"),".vote-control-heavy.vote-control-active.__jsx-style-dynamic-selector,.vote-control-heavy.vote-control-active.__jsx-style-dynamic-selector:hover{color:white;}"]))}))},kFyI:function(t,e,o){"use strict";var n=o("MX0m"),a=o.n(n),r=o("q1tI"),s=o("EQ2k"),c=r.createElement,i=function(t){var e=t.fill,o=t.width,n=t.height;return c("div",{className:a.a.dynamic([["1937252334",[o||"auto",n||"auto"]]])},c("svg",{width:"22px",height:"32px",viewBox:"0 0 22 32",version:"1.1",xmlns:"http://www.w3.org/2000/svg",className:a.a.dynamic([["1937252334",[o||"auto",n||"auto"]]])},c("g",{className:a.a.dynamic([["1937252334",[o||"auto",n||"auto"]]])},c("g",{transform:"translate(-89, -23)",fill:e,fillRule:"nonzero",className:a.a.dynamic([["1937252334",[o||"auto",n||"auto"]]])},c("g",{transform:"translate(89, 23)",className:a.a.dynamic([["1937252334",[o||"auto",n||"auto"]]])},c("path",{d:"M11.09,18.59 C9.9821125,18.598387 9.02266744,19.3610423 8.76455688,20.4384763 C8.50644632,21.5159102 9.01617275,22.6305209 10,23.14 L10,26 L12,26 L12,23.23 C13.0647784,22.7936395 13.6725238,21.6653931 13.4510621,20.5361818 C13.2296004,19.4069704 12.2407216,18.5918551 11.09,18.59 Z",className:a.a.dynamic([["1937252334",[o||"auto",n||"auto"]]])}),c("path",{d:"M19,13 L19,8.72 C19.0894129,4.20620308 15.5133609,0.469228711 11,0.36 C6.48663913,0.469228711 2.9105871,4.20620308 3,8.72 L3,13 L0,13 L0,30 C0,31.1045695 0.8954305,32 2,32 L20,32 C21.1045695,32 22,31.1045695 22,30 L22,13 L19,13 Z M5,8.72 C4.91024699,5.31056291 7.59111881,2.46883878 11,2.36 C14.4088812,2.46883878 17.089753,5.31056291 17,8.72 L17,13 L5,13 L5,8.72 Z M2,30 L2,15 L20,15 L20,30 L2,30 Z",className:a.a.dynamic([["1937252334",[o||"auto",n||"auto"]]])}))))),c(a.a,{id:"1937252334",dynamic:[o||"auto",n||"auto"]},["svg.__jsx-style-dynamic-selector{display:block;width:".concat(o||"auto",";height:").concat(n||"auto",";}")]))};i.defaultProps={fill:s.a.blue,width:"15px"},e.a=i}}]);
//# sourceMappingURL=c8a2ffc0313510cd25faf3e5fe22d2a687277e28.bacc5b3e9862f846c180.js.map